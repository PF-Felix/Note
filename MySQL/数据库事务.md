# 事务的四个特性

- 原子性（A）：事务中的操作要么全部成功，要么全部失败**通过UndoLog实现**
- 一致性（C）：数据库在事务执行前后都处于一个正确的状态，数据完整性没有被破坏；
- 隔离性（I）：事务执行过程中，不应该收到其他事务的打扰，并发的事务要隔离**并发事务问题通过 MVCC+锁 解决**
- 持久性（D）：事务完成后，数据将永远保存在数据库中，即使意外宕机，也不应该对这部分数据造成任何影响**通过RedoLog实现**

[RedoLog](RedoLog.md)

#待办事项 关联笔记

# 并发事务问题

## 脏读

在一个事务中读取到另⼀个事务未提交的数据

![zoom=50](Pasted%20image%2020231216150057.png)

## 不可重复读

事务内相同的记录被检索两次，但两次得到的结果不同（强调数据的更新和删除）

![zoom=50](Pasted%20image%2020231216150127.png)

## 幻读

事务内相同的记录被检索两次，但后面一次得到的结果有新数据加入（强调数据的新增）

![zoom=50](Pasted%20image%2020231216150155.png)

# 事务的四个隔离级别

SQL标准中的隔离级别：

![zoom=40](Pasted%20image%2020231216150229.png)

MySQL中的隔离级别：

![zoom=40](Pasted%20image%2020231216150301.png)

MySQL 隔离级别**默认是可重复读**

#待办事项 在可重复读隔离级别下，MySQL 没有完全解决幻读的问题，但提供了解决幻读的支持，如果应用程序事务处理的好是可以解决幻读问题的

可串行化是万万不能选择的，不支持并发性能太低
**穿透**查询一个根本不存在的数据，缓存和数据库中都没有数据，穿透了

解决方案1：缓存一个空数据，避免下一次访问数据库

解决方案2：使用布隆过滤器过滤无效请求
如何解决布隆过滤器的 hash 碰撞？
1、增大数组，减小误差率
2、增加 hash 函数

**击穿**场景：缓存中无数据，数据库有数据

举例说明：一个 key 失效后，读数据直接读数据库，并发量特别大的时候就造成击穿

[数据阈值式清理](缓存清理机制.md) 绝大部分情况下只有热点 key 才会并发量特别大
因此使用 LRU 或 LFU 算法保证热点 key 不失效即可，非热点 key 失效了也没关系

[过期式清理](缓存清理机制.md) 加互斥锁，伪代码如下图（而且互斥锁方案还可以为数据阈值式清理兜底）
![zoom=60](Pasted%20image%2020231216184708.png)

**雪崩**大量缓存同时失效，数据库压力暴增，即为雪崩

场景1：Redis自身失效
场景2：同一时间大量缓存过期

解决方案：
1、保证缓存服务的高可用，做到即使个别节点宕机依然可以提供服务；哨兵和集群都能做到
2、将缓存失效的时间分散开，在固定时间基础上加一个随机时间
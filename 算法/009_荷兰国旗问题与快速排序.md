# 荷兰国旗问题

问题1：有一个数组，给定数组中的一个数`X`，`≤X`的放前面`＞X`的放后面
问题2：有一个数组，给定数组中的一个数`X`，`＜X`的放前面`＝X`的放中间`＞X`的放后面

要求：
- 不要用辅助数组 空间复杂度 O(1)
- 时间复杂度 O(n)

| 问题1的解法 | 问题2的解法                                                  |
| ----------- | ------------------------------------------------------------ |
| ![zoom=45](713f8cbfab8920dc8621d623b839f80d.png) | ![zoom=40](32de16f7c0cca92fc2f0e8515eaeef8b.png) |

# 快速排序

**算法**把数组最后一个数作为选中的数，利用荷兰国旗问题的解法2得到结果，递归对两侧的子数组重做。算法结构如下

![zoom=40](2e2d54d4b6be05dc99f25d96c5051a26.png)

**时间复杂度**

最差是O($n^2$)，举例数组：`1 2 3 4 5 6 7 8`；需要记录所有选中的值，此时空间复杂度是 O(n)
最优是`O(n*logn)` 选中的数字每次都是数组的中点是是最优解  可以参考下图的归并排序的举例；需要记录所有选中的值，此时空间复杂度是 O(logn)

![zoom=40](bddd0b451a77d8c7b5311015e6230729.png)

不能保证快排每次都是最优的，因为选中的数可能会打偏，降低分治带来的优势
因此优化下就是 随机选取这个选中的数，数据量越大时就会收敛于最优的时间复杂度`O(n*logn)`
